---
# Traefik L2 LoadBalancer Service for IPv4
apiVersion: v1
kind: Service
metadata:
  name: traefik-l2-lb-v4
  namespace: traefik  # same namespace as your Traefik example
spec:
  type: LoadBalancer
  loadBalancerIP: 192.168.1.240  # first IP from your IPAddressPool
  externalTrafficPolicy: Local  # Required to set the IP Address correctly
  selector:
    app.kubernetes.io/instance: traefik-traefik
    app.kubernetes.io/name: traefik
  ports:
    - port: 80
      targetPort: 80
      name: web
    - port: 443
      targetPort: 443
      name: websecure
---
# Traefik L2 LoadBalancer Service for IPv6
apiVersion: v1
kind: Service
metadata:
  name: traefik-l2-lb-v6
  namespace: traefik  # same namespace as your Traefik example
spec:
  type: LoadBalancer
  ipFamilies: ["IPv6"]  # Specify IPv6 as the IP family
  ipFamilyPolicy: SingleStack  # Use only IPv6
  loadBalancerIP: 2001:55d:9065:5c00::10 # first IP from your IPAddressPool
  externalTrafficPolicy: Local  # Required to set the IP Address correctly
  selector:
    app.kubernetes.io/instance: traefik-traefik
    app.kubernetes.io/name: traefik
  ports:
    - port: 80
      targetPort: 80
      name: web
    - port: 443
      targetPort: 443
      name: websecure